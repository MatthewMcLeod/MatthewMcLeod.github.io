<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
  <script type="text/javascript" src="js/jquery.js"></script>

  <title>
    Merry Christmas!
  </title>
  <h1>
    Merry Christmas Jonathan!
  </h1>

  <p>
    I couldn't get to you a regular card in time for Christmas so I made you one online. However, I don't want any creeps or Russian crawling bots seeing my Chirstmas card.
  </p>

  <h2>
    Christmas Card
  </h2>
  <p>
    Enter the  password to see the card
  </p>

<form id="sForm">
      <input type="search" id="search"/>
      <input type="submit" value="submit" />
</form>
<div>
  <span id="msg">You haven't submitted a password</span>
</div>
<div id = "definitely_not_important" style="display: none;">
</div>
<img id = "background"  style="display: none;" src="./white_background.jpg" width=750 height=512></img>
<!--  -->

<script>

PASSHASH = 963

function Matts_Magic_Hash(str) {
  var hash = 0;
  for (var i = 0; i < str.length; i++) {
        hash = hash + str.charCodeAt(i);
//        hash = ((hash<<5)-hash)+char;
  //      hash = hash & hash; // Convert to 32bit integer
    }
    return hash;
}

function DisplayLogic(t){0==t?($("#background").css("display",""),$("#msg").text("Wrong")):t<100?$("#msg").text("You are very close"):t<200?$("#msg").text("Somewhat close"):t<500?$("#msg").text("Correct ballpark"):$("#msg").text("Nope! Are you a Russian bot?"),$("definitely_not_important").css("display","")}

$(document).ready(function(e){
    $('#sForm').on('submit',function(e){
        //
        inputVal = $('#search').val();
        inputHash = Matts_Magic_Hash(inputVal)
        diff = Math.abs(inputHash-PASSHASH)
        DisplayLogic(diff)
        if (diff == 0) {
          $('#msg').text("You are Jonathan! Here is the card!");
        }


        e.preventDefault();

    });
});
  </script>

    <!-- <script type="text/javascript" src="js/bootstrap.min.js"></script> -->
    <!-- <script type="text/javascript" src="js/jquery.inview.min.js"></script> -->
    <!-- <script type="text/javascript" src="js/wow.min.js"></script> -->
    <!-- <script type="text/javascript" src="js/mousescroll.js"></script> -->
    <!-- <script type="text/javascript" src="js/smoothscroll.js"></script> -->
    <script type="text/javascript" src="js/jquery.countTo.js"></script>
    <!-- <script type="text/javascript" src="js/lightbox.min.js"></script> -->
    <!-- <script type="text/javascript" src="js/main.js"></script> -->

</body>

</html>
